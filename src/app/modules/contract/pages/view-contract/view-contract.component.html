<div class="section__header section__header--aligned">
  VIEW JOB ASSIGNMENT DETAILS
</div>
<div class="container-fluid padding-aligned page-scroll">
  <app-page-alert [text]="error" *ngIf="error" class="mt-3"></app-page-alert>
  <div class="df-loader-container" *ngIf="isLoading; else loadedContent">
    <i class="df-loader"></i>
  </div>
  <ng-template #loadedContent>
    <div class="row">
      <div class="col-md-6 my-3">
        <div class="row">
          <div class="col-12 col-md-6">
            <df-card>
              <df-card-title class="d-flex text-center p-3 bg-au-neutral-4 au-white">
                <span>OFFER MADE BY</span>
              </df-card-title>
              <df-card-content class="p-0">
                <img class="m-0 w-100" df-card-image [src]="manager?.photoUrl">
              </df-card-content>
              <df-card-footer class="text-center d-block">
                <strong>{{manager?.firstName + ' ' + manager?.lastName}}</strong>
                <br>
                <span>Software Engineer Manager</span>
              </df-card-footer>
            </df-card>
          </div>
          <div class="col-6 d-none d-md-block">
            <df-card>
              <df-card-title class="d-flex text-center p-3 bg-au-neutral-4 au-white">
                <span>OFFER MADE TO</span>
              </df-card-title>
              <df-card-content class="p-0">
                <img class="m-0 w-100" df-card-image [src]="currentUser?.photoUrl">
              </df-card-content>
              <df-card-footer class="text-center d-block">
                <strong>{{assignment?.candidate.firstName + ' ' + assignment?.candidate.lastName}}</strong>
                <br>
                <span>{{assignment?.jobTitle}} Candidate</span>
              </df-card-footer>
            </df-card>
          </div>
        </div>

      </div>
      <div class="col-md-6 my-3">
        <df-card>
          <df-card-title class="d-flex text-center p-3 bg-au-neutral-4 au-white">
            <span>DETAILS</span>
          </df-card-title>
          <df-card-content class="py-0">
            <div class="row card-row">
              <div class="col-6 p-3">
                <strong>Consultant</strong>
              </div>
              <div class="col-6 p-3">
                {{assignment?.candidate.firstName + ' ' + assignment?.candidate.lastName}}
              </div>
            </div>
            <div class="row card-row">
              <div class="col-6 p-3">
                <strong>Job Assignment Effective Date</strong>
              </div>
              <div class="col-6 p-3">
                {{assignment?.startDate | date}}
              </div>
            </div>
            <div class="row card-row">
              <div class="col-6 p-3">
                <strong>Scope of Services and Deliverables</strong>
              </div>
              <div class="col-6 p-3">
                {{assignment?.jobTitle}}
              </div>
            </div>
            <div class="row card-row">
              <div class="col-6 p-3">
                <strong>Timesheet Submission Schedule</strong>
              </div>
              <div class="col-6 p-3">
                {{assignment?.salaryType}}
              </div>
            </div>
            <div class="row card-row">
              <div class="col-6 p-3">
                <strong>Invoice Submission Schedule</strong>
              </div>
              <div class="col-6 p-3">
                {{assignment?.salaryType}}
              </div>
            </div>
            <div class="row card-row">
              <div class="col-6 p-3">
                <strong>Payment Schedule</strong>
              </div>
              <div class="col-6 p-3">
                {{assignment?.salaryType}}
              </div>
            </div>
            <div class="row card-row">
              <div class="col-6 p-3">
                <strong>Offer Date</strong>
              </div>
              <div class="col-6 p-3">
                {{assignment?.startDate | date}}
              </div>
            </div>
            <div class="row card-row">
              <div class="col-6 p-3">
                <strong>Weekly Limit</strong>
              </div>
              <div class="col-6 p-3">
                {{assignment?.weeklyLimit}} hours
              </div>
            </div>
            <div class="row card-row">
              <div class="col-6 p-3">
                <strong>Salary</strong>
              </div>
              <div class="col-6 p-3">
                ${{assignment?.salary}} per {{assignment?.salaryUnit | lowercase}}
              </div>
            </div>
          </df-card-content>
        </df-card>

        <df-card class="my-3">
          <df-card-header class="text-center bg-au-neutral-4 au-red">
            IMPORTANT
          </df-card-header>
          <df-card-content class="red">
            This Job Assignment is governed by the terms of the Independent Contractor Services Agreement . You agree that terms of
            <a routerLink="/candidate-terms" target="_blank">Independent Contractor Services Agreement</a> and this Job Assignment are confidential.
          </df-card-content>
        </df-card>

        <form class="text-center d-block container-fluid my-3" [formGroup]="form" (submit)="onSubmit()">
          <df-checkbox formControlName="acceptTerms" class="mt-2">I agree to the Terms and Conditions</df-checkbox>
          <df-validation-messages [control]="form.get('acceptTerms')"></df-validation-messages>
          <div class="row">
            <div class="col-sm-6 text-right">
              <button type="submit" class="w-100 my-1" df-button theme="success">ACCEPT OFFER</button>
            </div>
            <div class="col-sm-6">
              <button type="button" class="w-100 my-1" df-button theme="danger" (click)="onDeclineClicked()">DECLINE OFFER</button>
            </div>
          </div>
        </form>
      </div>
    </div>
  </ng-template>
</div>
