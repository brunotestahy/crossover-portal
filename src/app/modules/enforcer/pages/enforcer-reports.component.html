<div class="section__header section__header--aligned d-flex align-items-center">
  <span class="mr-2">Enforcer Reports</span>
</div>
<div class="container-fluid padding-aligned">
  <form class="mt-3"
        [formGroup]="form">
    <div class="alert alert-success my-4"
         *ngIf="successMessage !== ''">
      {{successMessage}}
    </div>
    <div class="alert alert-danger my-4"
         *ngIf="error !== ''">
      {{error}}
    </div>
    <div class="d-flex align-items-center flex-wrap">
      <df-group-toggle class="mt-1"
                       [items]="items"
                       formControlName="reportType">
      </df-group-toggle>
    </div>
    <div class="row mt-4">
      <div class="col-12 col-md-4 d-flex mt-1">
        <df-select placeholder="Select a team"
                   formControlName="teamId"
                   placeholder="Select Team"
                   filterable="true"
                   emptyMessage="No matches found"
                   class="w-100">
          <df-option [value]="''"
                     [selected]="true">
            All
          </df-option>
          <df-option *ngFor="let team of teams"
                     [value]="team.id">
            {{team.company?.name}} - {{team.name}}
          </df-option>
        </df-select>
      </div>
      <div class="col-12 col-md-4 d-flex mt-1">
        <div class="d-flex justify-content-center align-items-center w-100">
          <app-my-dashboard-datepicker [view]="'week'"
                                       [date]="date"
                                       (update)="onDateChange($event)"></app-my-dashboard-datepicker>
        </div>
      </div>
      <div class="col-12 col-md-4 d-flex mt-1">
        <button class="w-100"
                type="button"
                theme="info"
                df-button
                (click)="generateReport()"
                [loading]="isDownloading">
          Generate Report
        </button>
      </div>
    </div>
  </form>
</div>
